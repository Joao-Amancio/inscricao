<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <title>Curso de Violão</title>
    <meta property="og:title" content="Aprenda Violão do Zero ao Avançado" />
    <meta
      property="og:description"
      content="Toque suas músicas favoritas em poucas semanas! Saiba mais"
    />
    <meta property="og:url" content="https://joao-amancio.github.io/saibamais/" />
    <meta
      property="og:image"
      content="https://joao-amancio.github.io/saibamais/assets/capa.png"
    />
    <meta property="og:type" content="website" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    
    <!-- Outros metadados comuns -->
    <meta
      name="description"
      content="Plataforma"
    />
    <meta name="keywords" content="" />
    <meta name="author" content="Amancio" />
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            color: #333;
            line-height: 1.6;
        }
        .container {
            width: 80%;
            max-width: 800px;
            margin: auto;
            background: #3f3f3f33;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            margin-top: 20px;
        }

        img {
           display: block;
           margin: auto;
           max-width: 100%; /* Para garantir responsividade */
           height: auto;  
           border: 2px solid #d35400; 
           border-radius: 15px;
           box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.3); /* Sombra suave */
       }


        h1 {
            color: #d35400;
            text-align: center;
            font-size: 25px;    
        }
        p {
            text-align: justify;
        }
        ul {
            list-style: none;
            padding: 0;
        
        }
        ul li {
            background: #d35400;
            color: white;
            margin: 5px 0;
            padding: 10px;
            border-radius: 5px;
        }
        .cta {
    text-align: center;
    margin-top: 20px;
}

.cta button {
    background: #27ae60;
    border: none;
    cursor: pointer;
    font-size: 18px;
    border-radius: 5px;
    transition: 0.3s;
    padding: 15px 20px;
    position: relative;
    overflow: hidden;
    animation: pulse 1.5s infinite alternate; /* Animação de pulsação */
}

.cta button a {
    color: white;
    text-decoration: none;
    font-weight: bold;
    display: block;
}

.cta button:hover {
    background: #219150;
    transform: scale(1.05); /* Leve aumento ao passar o mouse */
}

/* Efeito de pulsação */
@keyframes pulse {
    0% {
        transform: scale(1);
        box-shadow: 0 0 5px rgba(39, 174, 96, 0.5);
    }
    100% {
        transform: scale(1.05);
        box-shadow: 0 0 20px rgba(39, 174, 96, 0.7);
    }
}


        .signature {
            font-family: 'Dancing Script', cursive;
            text-align: center;
            margin-top: 30px;
            font-weight: bold;
            font-size: 28px;
            color: #555;
        }

        


    </style>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">

</head>
<body>
    <div class="container">
         <h1>Ficha de Inscrição para o Curso de Violão</h1><br>
         <input type="text" name="Ficha de Inscrição para o Curso de Violão" hidden>
        <img src="./assets/capa.png" alt="">

        <form action="https://formsubmit.co/estudioenergiaesaude10@gmail.com" id="form" method="post"  enctype="multipart/form-data" target="_blank">
            
            <div class="input-group">            
              <label for="name">Nome Completo do Aluno:</label>
              <input type="text" id="name" name="Nome Completo do Aluno"
              placeholder="Digite o nome completo do Aluno" required>
              <br><br>
              <div class="input-group">
                <label for="whatsapp">whatsapp do Aluno ou responsável:</label>
                <input
                  type="text"
                  id="whatsapp" name="whatsapp do Aluno ou responsável"
                  placeholder="(DDD) 9.9999-9999" required
                  
                />
                </div>         
               <br>
           
            <tbody>  
                             
               
              
              <div class="input-group">                                                                                                             
              <tr role="row" data-row-index="0">
                <td><b style="color: #d35400;">9. Qual o Plano de Curso que você vai fazer?</b></td>
              </tr>
               <br> <td data-id="6"><input name="9. Qual o Plano de Curso que você vai fazer??" id="chkSelecionaInsere5" type="radio" value="Plano 1 no valor de R$ 380,00 com Suporte"/>&nbsp;Plano 1 no valor de R$ 380,00 com Suporte</td>&nbsp;&nbsp;<br>
                  <td data-id="6"><input name="9. Qual o Plano de Curso que você vai fazer??" id="chkSelecionaExcluir5" type="radio" value="Plano 2 no valor de R$ 200,00 sem Suporte" required/>&nbsp;Plano 2 no valor de R$ 200,00 sem Suporte</td>
                  <br>                
              </tr> 
            </div> <br>
              
              
             <div class="input-group">            
            <input type="radio" name="Atesto que estou de acordo com o plano que escolhi." value="Atesto que estou de acordo com o plano que escolhi." required> &nbsp; <b style="color: #d35400;"> Atesto que estou de acordo com o plano que escolhi. </b>
            </div>
            <!-- MUDEI AQUI-->
            <br><h1>Faça a sua Assinatura</h1>
            <br>
            <div class="wrapper">
        <canvas
          id="signature-pad"
          class="signature-pad"
          width="250"
          height="367" 
        ></canvas>
      </div><br>
      <div class="button-container"><br>
        <button type="button" id="enable-sign" class="button">Assinar</button>
    <br><br>
    <button type="button" id="clear" class="button" disabled>Apagar</button>  
   
    <input type="file" id="signature-file" name="file" style="display: none;" />
  
      </div>
       
<label class="picture" for="picture__input" tabIndex="0">
  <span class="picture__image"></span>
</label>

<input type="file" name="picture__input" id="picture__input" required>
       
<!--
      <label for="picture__input">Carregar Assinatura:</label>
      <input type="file" name="Assinatura em Anexo" id="picture__input" required /> -->

      <br />  
      

      <label for="date2">Data de hoje:</label>
      <input type="date" id="date2" name="date" required />
           <br><br>
           <div class="button-container">
          <button type="submit" id="submit-form" class="button enviar" disabled>ENVIAR</button>
          </div>
<br>           
            

    </form>

    <script src="https://cdn.jsdelivr.net/npm/signature_pad@3.0.0-beta.3/dist/signature_pad.min.js"></script>

    <script>
      // 1. Preenchimento automático do endereço pelo CEP
      const cepInput = document.getElementById("cep");
      if (cepInput) {
        cepInput.addEventListener("keyup", function () {
          const cep = this.value.replace(/\D/g, "");
          if (cep.length === 8) {
            fetch(`https://viacep.com.br/ws/${cep}/json/`)
              .then(response => response.json())
              .then(data => {
                if (!data.erro) {
                  document.getElementById("rua").value = data.logradouro || "";
                  document.getElementById("bairro").value = data.bairro || "";
                  document.getElementById("cidade").value = data.localidade || "";
                  document.getElementById("estado").value = data.uf || "";
                } else {
                  console.error("CEP não encontrado.");
                }
              })
              .catch(error => console.error("Erro ao buscar o CEP:", error));
          }
        });
      }
  
      const canvas = document.getElementById("signature-pad");
  const enableSignBtn = document.getElementById("enable-sign");
  const clearBtn = document.getElementById("clear");
  const submitFormBtn = document.getElementById("submit-form");
  const fileInput = document.getElementById("signature-file");
  
  const ctx = canvas.getContext("2d");
  const signaturePad = new SignaturePad(canvas, {
    backgroundColor: "rgba(255, 255, 255, 1)",
    penColor: "rgb(0, 0, 0)",
  });
  
  // Desativa o canvas inicialmente
  signaturePad.off();
  
  let savedImageData = null;
  
  function addTextToCanvas() {
    if (!savedImageData) {
      savedImageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
    }
  
    ctx.putImageData(savedImageData, 0, 0);
    ctx.fillStyle = "black";
    ctx.font = "12px Arial";
    ctx.textAlign = "left";
  
    const text = `Atesto que estou de acordo com o plano que escolhi. (Favor assinar abaixo)`;
  
    const words = text.split(" ");
    let y = 30;
    let line = "";
  
    words.forEach((word, index) => {
      line += word + " ";
      if ((index + 1) % 5 === 0 || index === words.length - 1) {
        ctx.fillText(line, 8, y);
        line = "";
        y += 12;
      }
    });
  }
  
  enableSignBtn.addEventListener("click", function () {
    signaturePad.on();
    addTextToCanvas();
    clearBtn.disabled = false;
    enableSignBtn.disabled = true;
  });
  
  // Função de limpar assinatura
  clearBtn.addEventListener("click", function () {
    signaturePad.clear();
    savedImageData = null;
    addTextToCanvas();
  });
  
  // Converte a assinatura em imagem automaticamente após a assinatura
  signaturePad.onEnd = function () {
    if (signaturePad.isEmpty()) return;
  
    canvas.toBlob(function (blob) {
      if (!blob) return;
  
      const file = new File([blob], "assinatura.png", { type: "image/png" });
      const dataTransfer = new DataTransfer();
      dataTransfer.items.add(file);
      fileInput.files = dataTransfer.files;
      submitFormBtn.disabled = false;
    }, "image/png");
  };
  
  
      // 3. Texto animado
      const typingContainer = document.getElementById("typing-container");
      const typingText = document.getElementById("typing-text");
      if (typingContainer && typingText) {
        const textToType = "Nada é impossível quando você se dedica. A persistência é a chave do sucesso. Cada gota de suor é um passo em direção à sua meta. A força está dentro de você, apenas a liberte. Vença a batalha consigo mesmo a cada treino. Não espere pela oportunidade, crie-a. O corpo alcança o que a mente acredita. Treine com paixão, alcance com determinação. Seja o herói da sua própria jornada.";
        const sentences = textToType.split('. ').map(sentence => sentence.trim() + '.');
        let index = 0;
        const speed = 100;
  
        function typeText() {
          if (index < sentences.length) {
            const sentence = sentences[index];
            let charIndex = 0;
  
            function typeChar() {
              if (charIndex < sentence.length) {
                typingText.innerHTML += sentence.charAt(charIndex);
                charIndex++;
                setTimeout(typeChar, speed);
              } else {
                typingText.innerHTML += '<br>';
                index++;
                setTimeout(typeText, speed * 2);
              }
            }
  
            typeChar();
          }
        }
  
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              typeText();
              observer.disconnect();
            }
          });
        }, { threshold: 1.0 });
  
        observer.observe(typingContainer);
      }
  
      // 4. Botão "Voltar ao topo"
      const backToTopButton = document.getElementById("back-to-top");
      if (backToTopButton) {
        window.addEventListener("scroll", function () {
          backToTopButton.style.display = window.pageYOffset > 300 ? "block" : "none";
        });
  
        backToTopButton.addEventListener("click", function (event) {
          event.preventDefault();
          window.scrollTo({ top: 0, behavior: "smooth" });
        });
      }
    </script>
  
    <script>
      var instagramButton = document.getElementById('instagramButton');
      var bodyHeight = document.body.scrollHeight;
      var hidePercentage = 100; // Porcentagem do corpo onde o botão do Instagram deve desaparecer
  
      window.addEventListener('scroll', function() {
        var scrollPosition = window.scrollY || window.pageYOffset || document.documentElement.scrollTop;
        var scrollPercentage = (scrollPosition / bodyHeight) * 100;
  
        if (scrollPosition === 0 || scrollPercentage >= hidePercentage) {
          instagramButton.classList.add('hidden');
        } else {
          instagramButton.classList.remove('hidden');
        }
      });
    </script>  
      
  <script
        type="module"
        src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
      ></script>
      <script
        nomodule
        src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
      ></script>
     <script>
      document.getElementById('cpf').addEventListener('input', function (e) {
        let cpf = e.target.value.replace(/\D/g, ''); // Remove caracteres não numéricos
  
        // Limita o CPF a 11 dígitos
        if (cpf.length > 11) {
          cpf = cpf.slice(0, 11);
        }
  
        // Formata o CPF enquanto o usuário digita
        if (cpf.length <= 3) {
          e.target.value = cpf;
        } else if (cpf.length <= 6) {
          e.target.value = `${cpf.slice(0, 3)}.${cpf.slice(3)}`;
        } else if (cpf.length <= 9) {
          e.target.value = `${cpf.slice(0, 3)}.${cpf.slice(3, 6)}.${cpf.slice(6)}`;
        } else {
          e.target.value = `${cpf.slice(0, 3)}.${cpf.slice(3, 6)}.${cpf.slice(6, 9)}-${cpf.slice(9)}`;
        }
  
        validarCPF(cpf);
      });
  
      function validarCPF(cpf) {
        const cpfMessage = document.getElementById('cpfMessage');
        const submitBtn = document.getElementById('submit-form');
  
        // Remove caracteres não numéricos para validação
        cpf = cpf.replace(/\D/g, '');
  
        // CPF inválido específico
        if (cpf === '12345678909') {
          cpfMessage.innerText = 'CPF inválido.';
          cpfMessage.style.color = 'red';
          submitBtn.disabled = true;
          return;
        }
  
        // Verifica se o CPF tem 11 dígitos
        if (cpf.length !== 11) {
          cpfMessage.innerText = 'CPF deve ter 11 dígitos.';
          cpfMessage.style.color = 'red';
          submitBtn.disabled = true;
          return;
        }
  
        // Verifica se todos os dígitos são iguais
        if (/^(\d)\1{10}$/.test(cpf)) {
          cpfMessage.innerText = 'CPF inválido.';
          cpfMessage.style.color = 'red';
          submitBtn.disabled = true;
          return;
        }
  
        // Cálculo dos dígitos verificadores
        let soma = 0;
        for (let i = 0; i < 9; i++) {
          soma += parseInt(cpf.charAt(i)) * (10 - i);
        }
        let resto = soma % 11;
        let digitoVerificador1 = resto < 2 ? 0 : 11 - resto;
  
        soma = 0;
        for (let i = 0; i < 10; i++) {
          soma += parseInt(cpf.charAt(i)) * (11 - i);
        }
        resto = soma % 11;
        let digitoVerificador2 = resto < 2 ? 0 : 11 - resto;
  
        if (parseInt(cpf.charAt(9)) === digitoVerificador1 && parseInt(cpf.charAt(10)) === digitoVerificador2) {
          cpfMessage.innerText = 'CPF válido.';
          cpfMessage.style.color = 'green';
  
          // Copia o CPF validado para o campo oculto
          document.getElementById('cpfHidden').value = cpf;
  
          // Habilita o botão de envio
          submitBtn.disabled = false;
        } else {
          cpfMessage.innerText = 'CPF inválido.';
          cpfMessage.style.color = 'red';
          submitBtn.disabled = true;
        }
      }
    </script>
  
    <script>
      const inputFile = document.querySelector("#picture__input");
  const pictureImage = document.querySelector(".picture__image");
  const pictureImageTxt = "Click aqui e Tire uma foto ou Anexe";
  pictureImage.innerHTML = pictureImageTxt;
  
  inputFile.addEventListener("change", function (e) {
    const inputTarget = e.target;
    const file = inputTarget.files[0];
  
    if (file) {
      const reader = new FileReader();
  
      reader.addEventListener("load", function (e) {
        const readerTarget = e.target;
  
        const img = document.createElement("img");
        img.src = readerTarget.result;
        img.classList.add("picture__img");
  
        pictureImage.innerHTML = "";
        pictureImage.appendChild(img);
      });
  
      reader.readAsDataURL(file);
    } else {
      pictureImage.innerHTML = pictureImageTxt;
        }
  });
    </script>
  

</body>
</html>
